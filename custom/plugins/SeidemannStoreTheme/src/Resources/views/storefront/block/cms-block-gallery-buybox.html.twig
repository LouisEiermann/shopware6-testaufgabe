{% sw_extends '@Storefront/storefront/block/cms-block-gallery-buybox.html.twig' %}

{% block block_gallery_buybox %}
    {% block block_gallery_buybox_column_left %}
        {% set element = block.slots.getSlot('left') %}
        {% set config = element.fieldConfig.elements %}

        <div class="col-lg-7 product-detail-media" data-cms-element-id="{{ element.id }}">
            {% block block_gallery_buybox_column_left_inner %}
                {% sw_include '@Storefront/storefront/element/cms-element-' ~ element.type ~ '.html.twig' ignore missing
                    with {
                    isProduct: config.sliderItems.value == 'product.media' and config.sliderItems.source == 'mapped',
                    startIndexThumbnails: 1,
                    startIndexSlider: 1
                } %}
            {% endblock %}
        </div>
    {% endblock %}

    {% block block_gallery_buybox_column_right %}
        {% set element = block.slots.getSlot('right') %}

        <div class="col-lg-5 product-detail-buy" data-cms-element-id="{{ element.id }}">
            {% block block_gallery_buybox_column_right_inner %}
                {% sw_include '@Storefront/storefront/element/cms-element-' ~ element.type ~ '.html.twig' ignore missing %}
                
                <div class="custom-accordion mt-5">
                    <div class="accordion" id="productAccordion">

                        <!-- Product Description -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingDescription">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDescription" aria-expanded="true" aria-controls="collapseDescription">
                                    Details
                                </button>
                            </h2>
                            <div id="collapseDescription" class="accordion-collapse collapse show" aria-labelledby="headingDescription" data-bs-parent="#productAccordion">
                                <div class="accordion-body">
                                    {{ page.product.translated.description|raw }}
                                </div>
                            </div>
                        </div>

                        <!-- Custom Delivery Info -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingDeliveryInfo">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDeliveryInfo" aria-expanded="false" aria-controls="collapseDeliveryInfo">
                                    Shipping & Returns
                                </button>
                            </h2>
                            <div id="collapseDeliveryInfo" class="accordion-collapse collapse" aria-labelledby="headingDeliveryInfo" data-bs-parent="#productAccordion">
                                <div class="accordion-body">
                                    <p>Delivery within 2–3 business days. Free shipping for orders over €50!</p>
                                    <p>For express shipping, please contact our customer service.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Product Reviews -->
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingReviews">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseReviews" aria-expanded="false" aria-controls="collapseReviews">
                                    Reviews
                                </button>
                            </h2>
                            <div id="collapseReviews" class="accordion-collapse collapse" aria-labelledby="headingReviews" data-bs-parent="#productAccordion">
                                <div class="accordion-body">
                                    <div>{{dump(page.product)}}</div>
                                  
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endblock %}
        </div>
    {% endblock %}
{% endblock %}
